(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{44:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(45),c=n.n(r),a=n(1);function o(e){var t=e.children;return Object(a.jsx)("div",{className:c.a.wrapper,children:t})}},45:function(e,t,n){e.exports={wrapper:"WrapperContainer_wrapper__1nrVs"}},46:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f}));var r=n(47),c=n.n(r),a=n(49),o="1659d5b138150865a2bed507fd13cdc7",s="https://api.themoviedb.org/3/";function i(){return u.apply(this,arguments)}function u(){return u=Object(a.a)(c.a.mark((function e(){var t,n,r,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function p(){return i("".concat(s,"trending/movie/week?api_key=").concat(o))}function l(e){return i("".concat(s,"search/movie?api_key=").concat(o,"&query=").concat(e))}function m(e){return i("".concat(s,"movie/").concat(e,"?api_key=").concat(o))}function b(e){return i("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(o))}function f(e){return i("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(o))}},53:function(e,t,n){e.exports={searchForm__input:"Searchbar_searchForm__input__3CQDO",searchForm__button:"Searchbar_searchForm__button__2mYcY"}},54:function(e,t,n){e.exports={list:"Movies_list_list__3Tmk9",item:"Movies_list_item__3fUxq",img:"Movies_list_img__3Cakq"}},63:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n(7),c=n(0),a=n(2),o=n(44),s=n(50),i=n(53),u=n.n(i),p=n(1);function l(e){var t=e.onHandleSubmit,n=Object(c.useState)(""),a=Object(r.a)(n,2),o=a[0],i=a[1];return Object(p.jsxs)("form",{className:u.a.form,onSubmit:function(e){e.preventDefault(),""!==o.trim()?t(o):s.b.info("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(p.jsx)("input",{className:u.a.searchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:o,onChange:function(e){i(e.currentTarget.value.toLowerCase())}}),Object(p.jsx)("button",{type:"submit",className:u.a.searchForm__button,children:Object(p.jsx)("span",{className:u.a.searchForm__button_label,children:"Search"})})]})}var m=n(6),b=n(54),f=n.n(b);function d(e){var t=e.movies,n=Object(a.f)();return Object(p.jsx)("ul",{className:f.a.list,children:t&&t.map((function(e){var t=e.id,r=e.title,c=e.backdrop_path,a=e.original_title,o=e.name;return Object(p.jsx)("li",{className:f.a.item,children:Object(p.jsxs)(m.b,{to:{pathname:"/movies/".concat(t),state:{from:n}},children:[Object(p.jsx)("img",{className:f.a.img,src:"https://image.tmdb.org/t/p/w300".concat(c),alt:a||o}),r]})},t)}))})}var h=n(46),_=(n(55),n(10));function j(){var e=Object(a.f)(),t=Object(a.g)(),n=Object(c.useState)([]),i=Object(r.a)(n,2),u=i[0],m=i[1],b=Object(c.useState)("idle"),f=Object(r.a)(b,2),j=f[0],v=f[1],O=new URLSearchParams(e.search).get("query");Object(c.useEffect)((function(){O&&(v("pending"),h.d(O).then((function(e){var t=e.results;return m(t)})),v("resolved"))}),[O]);return Object(p.jsxs)(o.a,{children:[Object(p.jsx)(l,{onHandleSubmit:function(n){t({search:"?query=".concat(n),state:{from:e}})}}),"pending"===j&&Object(p.jsx)(_.a,{}),u&&Object(p.jsx)(d,{movies:u}),Object(p.jsx)(s.a,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}}]);
//# sourceMappingURL=movies-page.f95c8202.chunk.js.map